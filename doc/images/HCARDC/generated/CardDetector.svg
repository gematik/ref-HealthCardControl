<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="818px" preserveAspectRatio="none" style="width:734px;height:818px;" version="1.1" viewBox="0 0 734 818" width="734px" zoomAndPan="magnify"><defs><filter height="300%" id="fo8avq4ezu8mq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster de.gematik.ti.healthcard.control--><polygon fill="#FFFFFF" filter="url(#fo8avq4ezu8mq)" points="22,24,251,24,258,47.6094,712,47.6094,712,806,22,806,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="258" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="26" y="40.5332">de.gematik.ti.healthcard.control</text><!--cluster de.gematik.ti.healthcard.control.entities--><polygon fill="#FFFFFF" filter="url(#fo8avq4ezu8mq)" points="46,613,332,613,339,636.6094,342,636.6094,342,782,46,782,46,613" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="339" y1="636.6094" y2="636.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="50" y="629.5332">de.gematik.ti.healthcard.control.entities</text><!--cluster de.gematik.ti.healthcard.control.exceptions--><polygon fill="#FFFFFF" filter="url(#fo8avq4ezu8mq)" points="366,633.5,677,633.5,684,657.1094,688,657.1094,688,761.5,366,761.5,366,633.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="366" x2="684" y1="657.1094" y2="657.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="305" x="370" y="650.0332">de.gematik.ti.healthcard.control.exceptions</text><!--class CardDetector--><rect fill="#FEFECE" filter="url(#fo8avq4ezu8mq)" height="366.2266" id="CardDetector" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="105" y="60"/><ellipse cx="194.25" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M196.25,72.5 Q196.4531,72 196.6875,71.75 Q196.9219,71.5 197.1875,71.5 Q197.6563,71.5 197.9531,71.7813 Q198.25,72.0625 198.25,72.7188 L198.25,74.2813 Q198.25,74.9375 197.9688,75.2188 Q197.6875,75.5 197.25,75.5 Q196.8594,75.5 196.6094,75.3281 Q196.3594,75.1563 196.25,74.7031 Q196.2031,74.3906 196.0313,74.2188 Q195.7188,73.8906 195.1563,73.7031 Q194.5938,73.5 194.0313,73.5 Q193.3281,73.5 192.7344,73.7813 Q192.1563,74.0625 191.7031,74.6875 Q191.25,75.3125 191.25,76.1719 L191.25,77.0938 Q191.25,78.125 192.0938,78.8125 Q192.9375,79.5 194.4375,79.5 Q195.3281,79.5 195.9531,79.2969 Q196.3125,79.1875 196.7188,78.8281 Q196.9844,78.625 197.125,78.5625 Q197.2656,78.5 197.4375,78.5 Q197.7656,78.5 198,78.7656 Q198.25,79.0156 198.25,79.375 Q198.25,79.7188 197.9063,80.125 Q197.4063,80.7188 196.6094,81.0469 Q195.5625,81.5 194.2813,81.5 Q192.7813,81.5 191.5781,80.9063 Q190.6094,80.4375 189.9219,79.4219 Q189.25,78.4063 189.25,77.2031 L189.25,76.1094 Q189.25,74.8594 189.8438,73.7656 Q190.4531,72.6719 191.5,72.0938 Q192.5625,71.5 193.75,71.5 Q194.4688,71.5 195.0938,71.75 Q195.7188,72 196.25,72.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="214.75" y="80.9102">CardDetector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="106" x2="364" y1="92" y2="92"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="101.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="125" y="107.4189">LOG : Logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="115.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="59" x="125" y="121.2549">TAG : String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="129.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="135" x="125" y="135.0908">RECEIVE_BUFFER_SIZE : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="142.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="125" y="148.9268">healthCardMap : Map&lt;ICardReader, IHealthCard&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="156.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="114" x="125" y="162.7627">instance : CardDetector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="106" x2="364" y1="169.1797" y2="169.1797"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="178.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="125" y="184.5986">CardDetector()</text><ellipse cx="116" cy="195.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="125" y="198.4346">getInstance()</text><ellipse cx="116" cy="209.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="75" x="125" y="212.2705">startDetection()</text><ellipse cx="116" cy="223.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="74" x="125" y="226.1064">stopDetection()</text><ellipse cx="116" cy="236.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="125" y="239.9424">register()</text><ellipse cx="116" cy="250.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="125" y="253.7783">unregister()</text><ellipse cx="116" cy="264.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="125" y="267.6143">handleCardPresentEvents()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="275.4492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="125" y="281.4502">createHealthCardWithTypeAndSendEvent()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="289.2852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="125" y="295.2861">extractCardType()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="303.1211"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="125" y="309.1221">sendEvent()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="316.957"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="125" y="322.958">createPresentEventForHealthCardType()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="330.793"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="125" y="336.7939">getHealthCardTypeSmcb()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="344.6289"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="125" y="350.6299">getHealthCardTypeHba()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="358.4648"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="125" y="364.4658">getHealthCardTypeForEgk()</text><ellipse cx="116" cy="375.3008" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="125" y="378.3018">handleCardAbsentEvents()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="386.1367"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="125" y="392.1377">sendCardAbsentEvent()</text><ellipse cx="116" cy="402.9727" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="125" y="405.9736">handleCardReaderDisconnectedEvents()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="113" y="413.8086"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="125" y="419.8096">createAbsentEventForHealthCardType()</text><!--class CARD_TYPE--><rect fill="#FEFECE" filter="url(#fo8avq4ezu8mq)" height="103.3438" id="CARD_TYPE" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="80.5" y="486"/><ellipse cx="95.5" cy="502" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M94,503 L94,505 L98,505 L98,504 L98,503.5156 L98.625,503 L99,503 L99.375,503 L100,503.5156 L100,504 L100,507 L92,507 L91.5156,507 L91,506.375 L91,506 L91,505.625 L91.5156,505 L92,505 L92,505 L92,499 L92,499 L91.5156,499 L91,498.375 L91,498 L91,497.625 L91.5156,497 L92,497 L100,497 L100,500 L100,500.4844 L99.375,501 L99,501 L98.625,501 L98,500.4844 L98,500 L98,499 L94,499 L94,501 L95,501 L95,500.5156 L95,500.5156 L95.625,500 L96,500 L96.375,500 L97,500.5156 L97,501 L97,503 L97,503.4844 L96.375,504 L96.375,504 L96,504 L95.625,504 L95,503.4844 L95,503.4844 L95,503 L94,503 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="109.5" y="506.9102">CARD_TYPE</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="81.5" x2="182.5" y1="518" y2="518"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="86.5" y="533.4189">EGK</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="86.5" y="547.2549">HBA</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="86.5" y="561.0908">SMCB</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="86.5" y="574.9268">UNKNOWN</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="81.5" x2="182.5" y1="581.3438" y2="581.3438"/><!--class CardGenerationExtractor--><rect fill="#FEFECE" filter="url(#fo8avq4ezu8mq)" height="103.3438" id="CardGenerationExtractor" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="218.5" y="486"/><ellipse cx="233.5" cy="502" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M235.5,498.5 Q235.7031,498 235.9375,497.75 Q236.1719,497.5 236.4375,497.5 Q236.9063,497.5 237.2031,497.7813 Q237.5,498.0625 237.5,498.7188 L237.5,500.2813 Q237.5,500.9375 237.2188,501.2188 Q236.9375,501.5 236.5,501.5 Q236.1094,501.5 235.8594,501.3281 Q235.6094,501.1563 235.5,500.7031 Q235.4531,500.3906 235.2813,500.2188 Q234.9688,499.8906 234.4063,499.7031 Q233.8438,499.5 233.2813,499.5 Q232.5781,499.5 231.9844,499.7813 Q231.4063,500.0625 230.9531,500.6875 Q230.5,501.3125 230.5,502.1719 L230.5,503.0938 Q230.5,504.125 231.3438,504.8125 Q232.1875,505.5 233.6875,505.5 Q234.5781,505.5 235.2031,505.2969 Q235.5625,505.1875 235.9688,504.8281 Q236.2344,504.625 236.375,504.5625 Q236.5156,504.5 236.6875,504.5 Q237.0156,504.5 237.25,504.7656 Q237.5,505.0156 237.5,505.375 Q237.5,505.7188 237.1563,506.125 Q236.6563,506.7188 235.8594,507.0469 Q234.8125,507.5 233.5313,507.5 Q232.0313,507.5 230.8281,506.9063 Q229.8594,506.4375 229.1719,505.4219 Q228.5,504.4063 228.5,503.2031 L228.5,502.1094 Q228.5,500.8594 229.0938,499.7656 Q229.7031,498.6719 230.75,498.0938 Q231.8125,497.5 233,497.5 Q233.7188,497.5 234.3438,497.75 Q234.9688,498 235.5,498.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="247.5" y="506.9102">CardGenerationExtractor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="384.5" y1="518" y2="518"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="384.5" y1="526" y2="526"/><ellipse cx="229.5" cy="538.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="238.5" y="541.4189">getCardGeneration()</text><ellipse cx="229.5" cy="552.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="238.5" y="555.2549">getCardGeneration()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="226.5" y="563.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="238.5" y="569.0908">convertToInt()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="226.5" y="576.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="238.5" y="582.9268">check()</text><!--class CardGeneration--><rect fill="#FEFECE" filter="url(#fo8avq4ezu8mq)" height="117.1797" id="CardGeneration" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="206" y="649"/><ellipse cx="221" cy="665" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M219.5,666 L219.5,668 L223.5,668 L223.5,667 L223.5,666.5156 L224.125,666 L224.5,666 L224.875,666 L225.5,666.5156 L225.5,667 L225.5,670 L217.5,670 L217.0156,670 L216.5,669.375 L216.5,669 L216.5,668.625 L217.0156,668 L217.5,668 L217.5,668 L217.5,662 L217.5,662 L217.0156,662 L216.5,661.375 L216.5,661 L216.5,660.625 L217.0156,660 L217.5,660 L225.5,660 L225.5,663 L225.5,663.4844 L224.875,664 L224.5,664 L224.125,664 L223.5,663.4844 L223.5,663 L223.5,662 L219.5,662 L219.5,664 L220.5,664 L220.5,663.5156 L220.5,663.5156 L221.125,663 L221.5,663 L221.875,663 L222.5,663.5156 L222.5,664 L222.5,666 L222.5,666.4844 L221.875,667 L221.875,667 L221.5,667 L221.125,667 L220.5,666.4844 L220.5,666.4844 L220.5,666 L219.5,666 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="235" y="669.9102">CardGeneration</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="325" y1="681" y2="681"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="212" y="696.4189">G1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="212" y="710.2549">G1P</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="212" y="724.0908">G2</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="212" y="737.9268">G2_1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="212" y="751.7627">UNKNOWN</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="325" y1="758.1797" y2="758.1797"/><!--class WrongObjectSystemVersionArraySizeException--><rect fill="#FEFECE" filter="url(#fo8avq4ezu8mq)" height="75.6719" id="WrongObjectSystemVersionArraySizeException" style="stroke: #A80036; stroke-width: 1.5;" width="289" x="382.5" y="669.5"/><ellipse cx="397.5" cy="685.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M399.5,682 Q399.7031,681.5 399.9375,681.25 Q400.1719,681 400.4375,681 Q400.9063,681 401.2031,681.2813 Q401.5,681.5625 401.5,682.2188 L401.5,683.7813 Q401.5,684.4375 401.2188,684.7188 Q400.9375,685 400.5,685 Q400.1094,685 399.8594,684.8281 Q399.6094,684.6563 399.5,684.2031 Q399.4531,683.8906 399.2813,683.7188 Q398.9688,683.3906 398.4063,683.2031 Q397.8438,683 397.2813,683 Q396.5781,683 395.9844,683.2813 Q395.4063,683.5625 394.9531,684.1875 Q394.5,684.8125 394.5,685.6719 L394.5,686.5938 Q394.5,687.625 395.3438,688.3125 Q396.1875,689 397.6875,689 Q398.5781,689 399.2031,688.7969 Q399.5625,688.6875 399.9688,688.3281 Q400.2344,688.125 400.375,688.0625 Q400.5156,688 400.6875,688 Q401.0156,688 401.25,688.2656 Q401.5,688.5156 401.5,688.875 Q401.5,689.2188 401.1563,689.625 Q400.6563,690.2188 399.8594,690.5469 Q398.8125,691 397.5313,691 Q396.0313,691 394.8281,690.4063 Q393.8594,689.9375 393.1719,688.9219 Q392.5,687.9063 392.5,686.7031 L392.5,685.6094 Q392.5,684.3594 393.0938,683.2656 Q393.7031,682.1719 394.75,681.5938 Q395.8125,681 397,681 Q397.7188,681 398.3438,681.25 Q398.9688,681.5 399.5,682 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="257" x="411.5" y="690.4102">WrongObjectSystemVersionArraySizeException</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="670.5" y1="701.5" y2="701.5"/><ellipse cx="393.5" cy="713.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="87" x="402.5" y="716.9189">MESSAGE : String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="670.5" y1="723.3359" y2="723.3359"/><ellipse cx="393.5" cy="735.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="402.5" y="738.7549">WrongObjectSystemVersionArraySizeException()</text><!--link CardDetector to CARD_TYPE--><path d="M165.678,440.86 C159.947,457.135 154.552,472.457 149.829,485.869 " fill="none" id="CardDetector-CARD_TYPE" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="168.1362" cy="433.881" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="165.4794" x2="170.793" y1="441.4269" y2="426.335"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160.5903" x2="175.6822" y1="431.2242" y2="436.5377"/><!--link CardDetector to CardGenerationExtractor--><path d="M279.753,439.377 C283.608,456.205 287.237,472.051 290.403,485.869 " fill="none" id="CardDetector-CardGenerationExtractor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="276.766,426.335,274.2068,433.0767,279.4456,438.032,282.0048,431.2903,276.766,426.335" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CardGenerationExtractor to WrongObjectSystemVersionArraySizeException--><path d="M369.813,589.133 C402.876,613.821 442.089,643.1 473.078,666.238 " fill="none" id="CardGenerationExtractor-WrongObjectSystemVersionArraySizeException" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="477.201,669.317,472.3833,660.7269,473.1948,666.3252,467.5965,667.1368,477.201,669.317" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CardGenerationExtractor to CardGeneration--><path d="M291.101,589.361 C287.431,606.487 283.293,625.801 279.45,643.734 " fill="none" id="CardGenerationExtractor-CardGeneration" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="278.375,648.752,284.1736,640.7911,279.4236,643.8632,276.3515,639.1133,278.375,648.752" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

  package de.gematik.ti.healthcard.control {
    class CardDetector {
        {static} - LOG : Logger
        {static} - TAG : String
        {static} - RECEIVE_BUFFER_SIZE : int
        - healthCardMap : Map<ICardReader, IHealthCard>
        {static} - instance : CardDetector
        - CardDetector()
        {static} + getInstance()
        {static} + startDetection()
        {static} + stopDetection()
        + register()
        + unregister()
        + handleCardPresentEvents()
        - createHealthCardWithTypeAndSendEvent()
        - extractCardType()
        - sendEvent()
        - createPresentEventForHealthCardType()
        - getHealthCardTypeSmcb()
        - getHealthCardTypeHba()
        - getHealthCardTypeForEgk()
        + handleCardAbsentEvents()
        - sendCardAbsentEvent()
        + handleCardReaderDisconnectedEvents()
        - createAbsentEventForHealthCardType()
    }
  }


  package de.gematik.ti.healthcard.control {
    enum CARD_TYPE {
      EGK
      HBA
      SMCB
      UNKNOWN
    }
  }


  package de.gematik.ti.healthcard.control {
    class CardGenerationExtractor {
        + getCardGeneration()
        + getCardGeneration()
        - convertToInt()
        - check()
    }
  }

  package de.gematik.ti.healthcard.control {
      package de.gematik.ti.healthcard.control.entities {
        enum CardGeneration {
          G1
          G1P
          G2
          G2_1
          UNKNOWN
        }
      }
    }

    package de.gematik.ti.healthcard.control {
        package de.gematik.ti.healthcard.control.exceptions {
          class WrongObjectSystemVersionArraySizeException {
              {static} + MESSAGE : String
              + WrongObjectSystemVersionArraySizeException()
          }
        }
      }

  CardDetector +-down- CARD_TYPE
  CardDetector o- - CardGenerationExtractor
  CardGenerationExtractor ..> WrongObjectSystemVersionArraySizeException
  CardGenerationExtractor ..> CardGeneration


@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.69
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>